backend:
  name: github
  repo: BurlapRobot/pdx-fss
  branch: main
  api_root: https://api.github.com
  base_url: https://api.netlify.com
  auth_endpoint: auth
  site_domain: pdxfreesafestreets.netlify.app
  commit_messages:
    create: 'Create {{collection}} "{{slug}}"'
    update: 'Update {{collection}} "{{slug}}"'
    delete: 'Delete {{collection}} "{{slug}}"'
    uploadMedia: '[skip ci] Upload "{{path}}"'
    deleteMedia: '[skip ci] Delete "{{path}}"'

local_backend: true

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

site_url: https://pdxfamiliesforsafestreets.org/

collections:
  # Sections related to page layout
  # Collection: Page Layout
  - name: "page layout"
    label: "Page Layout"
    files:
      # Alert bar
      - file: "content/alert-bar.md"
        label: "Alert Bar"
        name: "alert-bar"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Hidden", name: "hidden", widget: "boolean", default: false }
          - { label: "Alert Text", name: "alertText", widget: "string" }
          - { label: "Link Text", name: "linkText", widget: "string", required: false }
          - { label: "Link URL", name: "linkUrl", widget: "string", required: false }
          - { label: "Button Text", name: "buttonText", widget: "string", required: false }
          - { label: "Button URL", name: "buttonUrl", widget: "string", required: false }
      # Nav Bar dropdown text and links
      - file: "content/navbar.md"
        label: "Navigation Labels and Links"
        name: "navbar"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Subtitle", name: "subtitle", widget: "string" }
          - label: "Navigation Menu"
            name: "menu"
            widget: "list"
            fields:
              - { label: "Text", name: "text", widget: "string" }
              - label: "Dropdown Links"
                name: "links"
                widget: "list"
                fields:
                  - { label: "Link Text", name: "text", widget: "string" }
                  - { label: "Link URL", name: "url", widget: "string" }

  # Sections related to Home Page
  # Collection: Home Page
  - name: "home page"
    label: "Home Page"
    files:
      # Hero Section
      - file: "content/hero-section.md"
        label: "Hero Section"
        name: "hero-section"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Subtitle", name: "subtitle", widget: "string" }
          - { label: "Button Text", name: "buttonText", widget: "string" }
          - { label: "Button URL", name: "buttonUrl", widget: "string" }
          - {
              label: "Background Image",
              name: "backgroundImage",
              widget: "image",
            }
      # Stats Section
      - file: "content/stats-section.md"
        label: "Stats Section"
        name: "stats-section"
        fields:
          - { label: "Image", name: "image", widget: "image" }
          - { label: "Heading", name: "heading", widget: "string" }
          - { label: "Subheading", name: "subheading", widget: "string" }
          - { label: "Text", name: "text", widget: "string" }
          - { label: "CTA", name: "cta", widget: "string" }
          - { label: "CTA Link", name: "ctaLink", widget: "string" }
      # Content grid section
      - file: "content/content-grid.md"
        label: "Content Grid - Card Data"
        name: "content-grid"
        fields:
          - label: "Card Data"
            name: "cardData"
            widget: "list"
            fields:
              - {label: "Image", name: "image", widget: "image"}
              - {label: "Heading", name: "heading", widget: "string"}
              - {label: "Text", name: "text", widget: "string"}
              - {label: "CTA", name: "cta", widget: "string"}
              - {label: "CTA Link", name: "ctaLink", widget: "string"} 

  # Main Navigation Sections
  # Collection: Safe Streets Now, Advocacy, Get Involved, Services & Support
  - name: "safe streets now pages"
    label: "Safe Streets Now Pages"
    files:
      - file: "content/why-it-matters.md"
        label: "Why It Matters Page"
        name: "why-it-matters"
        preview_path: "why-it-matters"
        fields:
          - {label: "Title", name: "title", widget: "string"}
          - {label: "Content", name: "content", widget: "markdown"}
      - file: "content/our-approach.md"
        label: "Our Approach Page"
        name: "our-approach"
        preview_path: "our-approach"
        fields:
          - {label: "Title", name: "title", widget: "string"}
          - {label: "Content", name: "content", widget: "markdown"}
      - file: "content/dangerous-areas.md"
        label: "Dangerous Areas Page"
        name: "dangerous-areas"
        preview_path: "dangerous-areas"
        fields:
          - {label: "Title", name: "title", widget: "string"}
          - {label: "Content", name: "content", widget: "markdown"} 
      - file: "content/victims-content.md"
        label: "Victims Main Page"
        name: "victims-content"
        preview_path: "victims"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Intro", name: "intro", widget: "markdown" }
  - name: "advocacy pages"
    label: "Advocacy Pages"
    files:
      - file: "content/legislation.md"
        label: "Legislation Page"
        name: "legislation"
        preview_path: "legislation"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Content", name: "content", widget: "markdown" }
      - file: "content/partners.md"
        label: "Our Partners Page"
        name: "partners"
        preview_path: "partners"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - {label: "Content", name: "content", widget: "markdown"}
  - name: "get involved pages"
    label: "Get Involved Pages"
    files:
      - file: "content/action.md"
        label: "Take Action Page"
        name: "action"
        preview_path: "action"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Content", name: "content", widget: "markdown" }
      - file: "content/volunteer.md"
        label: "Volunteer Opportunities Page"
        name: "volunteer"
        preview_path: "volunteer"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Content", name: "content", widget: "markdown" }
      - file: "content/remember.md"
        label: "Day of Remembrance Page"
        name: "remember"
        preview_path: "remember"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Content", name: "content", widget: "markdown" }
  - name: "services & support pages"
    label: "Services & Support Pages"
    files:
      - file: "content/get-support.md"
        label: "Get Support Page"
        name: "get-support"
        preview_path: "get-support"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Content", name: "content", widget: "markdown" }
      - file: "content/peer-mentorship.md"
        label: "Peer Mentorship Page"
        name: "peer-mentorship"
        preview_path: "peer-mentorship"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Content", name: "content", widget: "markdown" }

  # Sections related to the organization navigable via footer
  # Collection: Organization Pages
  - name: "organization pages"
    label: "Organization Pages"
    files:
      - file: "content/about.md"
        label: "About Page"
        name: "about"
        preview_path: "about"
        fields:
          - { label: "Title", name: "title", widget: "string" }
          - { label: "Content", name: "content", widget: "markdown" }
      - file: "content/contact-us.md"
        label: "Contact Us Page"
        name: "contact-us"
        preview_path: "contact-us"
        fields:
          - {label: "Title", name: "title", widget: "string"}
          - {label: "Content", name: "content", widget: "markdown"}
      # TODO: Re-implementation in the future for Calendar and News pages
      # - file: "content/calendar.md"
      #   label: "Event Calendar Page"
      #   name: "calendar"
      #   fields:
      #     - { label: "Title", name: "title", widget: "string" }
      #     - { label: "Content", name: "content", widget: "markdown" }
      # News Page (NOTE: Should probably be a collection?)
      # - file: "content/news.md"
      #   label: "News Page"
      #   folder: "content/news"
      #   name: "news"
      #   fields:
      #     - { label: "Title", name: "title", widget: "string" }
      #     - { label: "Content", name: "content", widget: "markdown" }

  # Collection: Victims Page  
  - name: "victims"
    label: "Victims"
    folder: "content/victims"
    create: true
    slug: "{{name}}-{{date}}"
    preview_path: "victims"
    fields:
      - { label: "Name", name: "name", widget: "string", required: true }
      - { label: "Age", name: "age", widget: "number", required: true }
      - {
          label: "Victim Type",
          name: "victimType",
          widget: "select",
          options: ["Pedestrian", "Bicyclist", "Motorcyclist", "Driver"],
          required: true,
        }
      - {
          label: "Location",
          name: "location",
          widget: "string",
          required: true,
        }
      - {
          label: "Date",
          name: "date",
          widget: "datetime",
          date_format: "MM/DD/YYYY",
          time_format: false,
          required: true,
        }
      - {
          label: "Time",
          name: "time",
          widget: "datetime",
          date_format: false,
          time_format: "HH:mm",
          required: true,
        }
      - { label: "Photo Credit", name: "photoCredit", widget: "string" }
      - { label: "Image", name: "image", widget: "image", required: false }
      - {
          label: "Description",
          name: "body",
          widget: "markdown",
          required: true,
        }

  - name: "test page"
    label: "Test Page"
    files:
      - file: "content/test.md"
        label: "Test"
        name: "test"
        fields:
          - {label: "Title", name: "title", widget: "string"}
          - {label: "Content", name: "content", widget: "markdown"}
